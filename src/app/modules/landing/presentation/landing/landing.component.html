<!-- Hero Section -->
<section class="relative h-full bg-gradient-to-r from-blue-600 to-purple-600 text-white">
  <div class="container mx-auto px-4 py-20 md:py-32">
    <div class="max-w-4xl mx-auto text-center">
      <h1 class="text-4xl md:text-6xl font-bold mb-6 animate-fade-in">
        Compra y Vende con Confianza
      </h1>
      <p class="text-xl md:text-2xl mb-8 text-blue-100">
        El marketplace donde todos pueden ser compradores y vendedores
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a routerLink="/dash/products/sell" class="bg-white text-blue-600 px-8 py-4 rounded-lg font-semibold hover:bg-blue-50 transition transform hover:scale-105 shadow-lg">
          Comenzar a Vender
        </a>
      </div>
    </div>
  </div>
  <div class="absolute bottom-0 left-0 right-0">
    <svg
      class="w-full h-24 md:h-32"
      viewBox="0 0 1440 120"
      preserveAspectRatio="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M0 120L60 105C120 90 240 60 360 45C480 30 600 30 720 37.5C840 45 960 60 1080 67.5C1200 75 1320 75 1380 75L1440 75V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0Z"
        fill="white"
      />
    </svg>
  </div>
</section>

<!-- Featured Products Section -->
<section class="py-20 bg-gray-50">
  <div class="container mx-auto px-4">
    <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-6 mb-10">
      <div>
        <p class="text-sm uppercase tracking-[0.2em] text-blue-600 font-semibold mb-2">Descubre</p>
        <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-3">Productos</h2>
        <p class="text-gray-600 max-w-2xl">Mira lo ultimo publicado por la comunidad.</p>
      </div>
      <a routerLink="/products" class="inline-flex items-center justify-center bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition transform hover:-translate-y-1">
        Ver todos los productos
        <i class="pi pi-arrow-right ml-2 text-sm"></i>
      </a>
    </div>

    @if (loadingFeatured()) {
      <div class="grid gap-6 md:grid-cols-2 xl:grid-cols-3">
        @for (item of skeletonCards; track $index) {
        <div class="bg-white rounded-2xl shadow-md p-5 animate-pulse border border-gray-100">
          <div class="h-44 bg-gray-200 rounded-xl mb-4"></div>
          <div class="h-4 bg-gray-200 rounded w-3/4 mb-2"></div>
          <div class="h-4 bg-gray-200 rounded w-1/2"></div>
        </div>
        }
      </div>
    } @else {
      @if (featuredProducts().length === 0) {
        <div class="bg-white border border-dashed border-gray-200 rounded-2xl p-10 text-center text-gray-600 shadow-sm">
          <h3 class="text-xl font-semibold text-gray-800 mb-2">Aun no hay productos listos</h3>
          <p>Cuando se publiquen apareceran aqui mismo.</p>
          <a routerLink="/dash/products/sell" class="inline-flex items-center justify-center mt-4 text-blue-600 font-semibold hover:text-blue-700">
            Publica el primero
            <i class="pi pi-arrow-up-right ml-2 text-sm"></i>
          </a>
        </div>
      } @else {
        <div class="grid gap-8 md:grid-cols-2 xl:grid-cols-3">
          @for (product of featuredProducts(); track product.id) {
          <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100 hover:-translate-y-2 transition transform duration-200">
            <div class="relative">
              <img
                [src]="product.image || product.imageUrl || 'assets/image-not-found.svg'"
                [alt]="product.name"
                class="w-full h-48 object-cover"
              />
              <div class="absolute top-3 right-3 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-blue-700 font-semibold shadow">
                S/ {{ product.price }}
              </div>
            </div>
            <div class="p-5 flex flex-col gap-3">
              <div class="flex flex-wrap gap-2 text-xs">
                <span class="px-3 py-1 bg-blue-50 text-blue-700 rounded-full font-semibold">{{ product.categoryName || 'Categoria' }}</span>
                <span class="px-3 py-1 bg-gray-100 text-gray-700 rounded-full font-semibold">Stock: {{ product.stock }}</span>
              </div>
              <h3 class="text-xl font-semibold text-gray-800 line-clamp-1">{{ product.name }}</h3>
              <p class="text-gray-600 text-sm line-clamp-2">{{ product.description }}</p>
              <div class="flex items-center justify-between text-sm text-gray-500">
                <div class="flex items-center gap-2">
                  @if (product.userImage) {
                  <img [src]="product.userImage" [alt]="product.userName" class="w-8 h-8 rounded-full object-cover">
                  } @else {
              <span class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 font-semibold">{{ product.userName ? product.userName.charAt(0) : 'U' }}</span>
                  }
                  <span class="font-semibold text-gray-700">{{ product.userName }}</span>
                </div>
                <div class="flex items-center gap-1 text-yellow-500">
                  <i class="pi pi-star-fill text-sm"></i>
                  <span class="text-gray-800 font-semibold">{{ product.averageRating ?? 0 }}</span>
                  <span class="text-gray-500">({{ product.reviewCount ?? 0 }})</span>
                </div>
              </div>
            </div>
          </div>
          }
        </div>
      }
    }
  </div>
</section>

<!-- Features Section -->
<section class="py-20 bg-white">
  <div class="container mx-auto px-4">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">¿Por qué elegirnos?</h2>
      <p class="text-xl text-gray-600">La plataforma perfecta para tu negocio online</p>
    </div>
    
    <div class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">
      <!-- Feature 1 -->
      <div class="text-center p-6 rounded-xl hover:shadow-xl transition transform hover:-translate-y-2">
        <div class="bg-blue-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4">
          <svg class="w-10 h-10 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
        </div>
        <h3 class="text-xl font-semibold mb-2 text-gray-800">Vende Fácilmente</h3>
        <p class="text-gray-600">Publica tus productos en minutos y llega a miles de compradores potenciales</p>
      </div>

      <!-- Feature 2 -->
      <div class="text-center p-6 rounded-xl hover:shadow-xl transition transform hover:-translate-y-2">
        <div class="bg-purple-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4">
          <svg class="w-10 h-10 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path>
          </svg>
        </div>
        <h3 class="text-xl font-semibold mb-2 text-gray-800">Compra Seguro</h3>
        <p class="text-gray-600">Encuentra productos únicos con garantía y protección en cada compra</p>
      </div>

      <!-- Feature 3 -->
      <div class="text-center p-6 rounded-xl hover:shadow-xl transition transform hover:-translate-y-2">
        <div class="bg-green-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4">
          <svg class="w-10 h-10 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
          </svg>
        </div>
        <h3 class="text-xl font-semibold mb-2 text-gray-800">Comunidad Activa</h3>
        <p class="text-gray-600">Únete a miles de usuarios que compran y venden cada día</p>
      </div>
    </div>
  </div>
</section>

<!-- How It Works Section -->
<section class="py-20 bg-gray-50">
  <div class="container mx-auto px-4">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">¿Cómo funciona?</h2>
      <p class="text-xl text-gray-600">Tres simples pasos para empezar</p>
    </div>
    
    <div class="max-w-5xl mx-auto">
      <div class="grid md:grid-cols-3 gap-8">
        <!-- Step 1 -->
        <div class="relative">
          <div class="bg-white p-8 rounded-xl shadow-lg text-center">
            <div class="bg-blue-600 text-white w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold">
              1
            </div>
            <h3 class="text-xl font-semibold mb-3 text-gray-800">Regístrate Gratis</h3>
            <p class="text-gray-600">Crea tu cuenta en segundos y accede a todas las funcionalidades</p>
          </div>
        </div>

        <!-- Step 2 -->
        <div class="relative">
          <div class="bg-white p-8 rounded-xl shadow-lg text-center">
            <div class="bg-purple-600 text-white w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold">
              2
            </div>
            <h3 class="text-xl font-semibold mb-3 text-gray-800">Publica o Explora</h3>
            <p class="text-gray-600">Lista tus productos para vender o busca lo que necesitas</p>
          </div>
        </div>

        <!-- Step 3 -->
        <div class="relative">
          <div class="bg-white p-8 rounded-xl shadow-lg text-center">
            <div class="bg-green-600 text-white w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold">
              3
            </div>
            <h3 class="text-xl font-semibold mb-3 text-gray-800">Compra y Vende</h3>
            <p class="text-gray-600">Conecta con otros usuarios y completa transacciones seguras</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Stats Section -->
<section class="py-20 bg-gradient-to-r from-blue-600 to-purple-600 text-white">
  <div class="container mx-auto px-4">
    <div class="grid md:grid-cols-4 gap-8 text-center max-w-5xl mx-auto">
      <div>
        <div class="text-4xl md:text-5xl font-bold mb-2">10K+</div>
        <div class="text-blue-100">Usuarios Activos</div>
      </div>
      <div>
        <div class="text-4xl md:text-5xl font-bold mb-2">50K+</div>
        <div class="text-blue-100">Productos</div>
      </div>
      <div>
        <div class="text-4xl md:text-5xl font-bold mb-2">25K+</div>
        <div class="text-blue-100">Ventas Exitosas</div>
      </div>
      <div>
        <div class="text-4xl md:text-5xl font-bold mb-2">4.8★</div>
        <div class="text-blue-100">Calificación</div>
      </div>
    </div>
  </div>
</section>

<!-- CTA Section -->
<section class="py-20 bg-white">
  <div class="container mx-auto px-4">
    <div class="max-w-4xl mx-auto text-center bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-12 shadow-xl">
      <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">
        ¿Listo para empezar?
      </h2>
      <p class="text-xl text-gray-600 mb-8">
        Únete a nuestra comunidad y descubre un mundo de oportunidades
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a href="/auth/register" class="bg-blue-600 text-white px-8 py-4 rounded-lg font-semibold hover:bg-blue-700 transition transform hover:scale-105 shadow-lg">
          Crear Cuenta Gratis
        </a>
        <a href="/auth/login" class="bg-white text-blue-600 border-2 border-blue-600 px-8 py-4 rounded-lg font-semibold hover:bg-blue-50 transition transform hover:scale-105">
          Iniciar Sesión
        </a>
      </div>
    </div>
  </div>
</section>

<!-- Footer -->
<footer class="bg-gray-800 text-white py-12">
  <div class="container mx-auto px-4">
    <div class="grid md:grid-cols-4 gap-8">
      <div>
        <h3 class="text-xl font-bold mb-4">Marketplace</h3>
        <p class="text-gray-400">La plataforma donde todos pueden comprar y vender</p>
      </div>
      <div>
        <h4 class="font-semibold mb-4">Enlaces Rápidos</h4>
        <ul class="space-y-2 text-gray-400">
          <li><a href="/products" class="hover:text-white transition">Productos</a></li>
          <li><a href="/categories" class="hover:text-white transition">Categorías</a></li>
          <li><a href="/auth/register" class="hover:text-white transition">Vender</a></li>
        </ul>
      </div>
      <div>
        <h4 class="font-semibold mb-4">Soporte</h4>
        <ul class="space-y-2 text-gray-400">
          <li><a href="#" class="hover:text-white transition">Centro de Ayuda</a></li>
          <li><a href="#" class="hover:text-white transition">Contacto</a></li>
          <li><a href="#" class="hover:text-white transition">FAQ</a></li>
        </ul>
      </div>
      <div>
        <h4 class="font-semibold mb-4">Legal</h4>
        <ul class="space-y-2 text-gray-400">
          <li><a href="#" class="hover:text-white transition">Términos de Uso</a></li>
          <li><a href="#" class="hover:text-white transition">Privacidad</a></li>
          <li><a href="#" class="hover:text-white transition">Cookies</a></li>
        </ul>
      </div>
    </div>
    <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
      <p>&copy; 2025 Marketplace. Todos los derechos reservados.</p>
    </div>
  </div>
</footer>
